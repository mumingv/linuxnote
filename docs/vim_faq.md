# FAQ

## 如何用正则表达式替换文本？

### 示例1：去除下面文本中每行的数字和冒号

```
1:你帮我找一下今天的头条新闻
21:游戏新闻
102:给我发一下关于恐龙虾的新闻
```

使用命令：

```
:%s/[0-9]\{1,3\}://gc
```

<font color="red">注意：vim的s命令使用的是基本正则表达式语法，其中的字符'{'和'}'表示字面意义，使用时需要转义。</font>


## 如何在每行的前后增加文本？

### 示例：增加各省市的别名映射

```
public static $cityAlias = array(
上海市
云南省
内蒙古自治区
);
```
```
public static $cityAlias = array(
    '上海市' => '上海',
    '云南省' => '云南',
    '内蒙古自治区' => '内蒙古',
);
```

使用命令：

```
:164,515s/\(.*\)\([省|市|自治区|州|盟|特别行政区]\)/^I^I'\1\2' => '\1',/gc
```

<font color="red">注意：vim的s命令使用的是基本正则表达式语法，其中的字符'('和')'表示字面意义，使用时需要转义。</font>


## vim打开文件时中文显示乱码？

参考：http://edyfox.codecarver.org/html/vim_fileencodings_detection.html


## 如何删除包含某个字符串的行？

### 示例：删除包含“最新”的行

```
:g/最新/d
```

